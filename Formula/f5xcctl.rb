# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class F5xcctl < Formula
  desc "kubectl-style CLI for F5 Distributed Cloud"
  homepage "https://github.com/robinmordasiewicz/f5xcctl"
  version "0.1.6"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/robinmordasiewicz/f5xcctl/releases/download/v0.1.6/f5xcctl_0.1.6_darwin_amd64.tar.gz"
      sha256 "a7f8f4eaa5ce5d111c18648aa8389d3797cf7f9d591ac2d4a02329c8b1dd051e"

      def install
        bin.install "f5xcctl"
        bash_completion.install "completions/f5xcctl.bash" => "f5xcctl"
        zsh_completion.install "completions/_f5xcctl"
        fish_completion.install "completions/f5xcctl.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/robinmordasiewicz/f5xcctl/releases/download/v0.1.6/f5xcctl_0.1.6_darwin_arm64.tar.gz"
      sha256 "9eb81ca097a260d62d6fc9ae0a98028ace7a10065d58ef9de50ab3aab859436b"

      def install
        bin.install "f5xcctl"
        bash_completion.install "completions/f5xcctl.bash" => "f5xcctl"
        zsh_completion.install "completions/_f5xcctl"
        fish_completion.install "completions/f5xcctl.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/robinmordasiewicz/f5xcctl/releases/download/v0.1.6/f5xcctl_0.1.6_linux_amd64.tar.gz"
      sha256 "8288a22be9588acf387fb49327d231dcb9d80dec9458d2c1af0bfd88ca0222c6"
      def install
        bin.install "f5xcctl"
        bash_completion.install "completions/f5xcctl.bash" => "f5xcctl"
        zsh_completion.install "completions/_f5xcctl"
        fish_completion.install "completions/f5xcctl.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/robinmordasiewicz/f5xcctl/releases/download/v0.1.6/f5xcctl_0.1.6_linux_arm64.tar.gz"
      sha256 "c9c7dd22c978fbe5488f2ad5a98acffb145e1e0a86cf6b902363b01fbba1aa9b"
      def install
        bin.install "f5xcctl"
        bash_completion.install "completions/f5xcctl.bash" => "f5xcctl"
        zsh_completion.install "completions/_f5xcctl"
        fish_completion.install "completions/f5xcctl.fish"
      end
    end
  end

  def caveats
    <<~EOS
      Shell completions have been installed.

      For zsh, ensure compinit is enabled in ~/.zshrc:
        autoload -Uz compinit && compinit

      For bash, add to ~/.bashrc:
        source $(brew --prefix)/etc/bash_completion.d/f5xcctl

      Get started:
        f5xcctl configure    # Set up API credentials
        f5xcctl get --help   # List available resources
    EOS
  end

  test do
    system "#{bin}/f5xcctl", "version"
  end
end
